/* static/css/style.css */

/* -- Material 3 Custom Theme (Green) -- */
:root {
    --md-sys-color-primary: #006d39;
    --md-sys-color-on-primary: #ffffff;
    --md-sys-color-primary-container: #94f7b2;
    --md-sys-color-on-primary-container: #00210d;
    --md-sys-color-secondary: #4f6353;
    --md-sys-color-on-secondary: #ffffff;
    --md-sys-color-secondary-container: #d2e8d4;
    --md-sys-color-on-secondary-container: #0d1f13;
    --md-sys-color-tertiary: #3b6470;
    --md-sys-color-on-tertiary: #ffffff;
    --md-sys-color-tertiary-container: #bfe9f7;
    --md-sys-color-on-tertiary-container: #001f26;
    --md-sys-color-error: #ba1a1a;
    --md-sys-color-on-error: #ffffff;
    --md-sys-color-error-container: #ffdad6;
    --md-sys-color-on-error-container: #410002;
    --md-sys-color-background: #fbfdf7;
    --md-sys-color-on-background: #1a1c1a;
    --md-sys-color-surface: #fbfdf7;
    --md-sys-color-on-surface: #1a1c1a;
    --md-sys-color-surface-variant: #dde5db;
    --md-sys-color-on-surface-variant: #414942;
    --md-sys-color-outline: #717972;
    --md-sys-color-outline-variant: #c1c9bf;
    --md-sys-color-shadow: #000000;
    --md-sys-color-scrim: #000000;
    --md-sys-color-inverse-surface: #2e312e;
    --md-sys-color-inverse-on-surface: #f0f1ec;
    --md-sys-color-inverse-primary: #78da98;
    --md-sys-color-surface-dim: #d9dbd6;
    --md-sys-color-surface-bright: #fbfdf7;
    --md-sys-color-surface-container-lowest: #ffffff;
    --md-sys-color-surface-container-low: #f3f5f1;
    --md-sys-color-surface-container: #edefea;
    --md-sys-color-surface-container-high: #e7e9e4;
    --md-sys-color-surface-container-highest: #e1e3de;

    /* --- NEW: Material 3 Typography Theme --- */
    /* Set the default font for most text components to Roboto Flex */
    --md-sys-typescale-body-large-font: 'Roboto Flex';
    --md-sys-typescale-body-medium-font: 'Roboto Flex';
    --md-sys-typescale-body-small-font: 'Roboto Flex';
    --md-sys-typescale-label-large-font: 'Roboto Flex';
    --md-sys-typescale-label-medium-font: 'Roboto Flex';
    --md-sys-typescale-label-small-font: 'Roboto Flex';
    --md-sys-typescale-title-large-font: 'Roboto Flex';
    --md-sys-typescale-title-medium-font: 'Roboto Flex';
    --md-sys-typescale-title-small-font: 'Roboto Flex';
    --md-sys-typescale-headline-large-font: 'Roboto Flex';
    --md-sys-typescale-headline-medium-font: 'Roboto Flex';
    --md-sys-typescale-headline-small-font: 'Roboto Flex';

    /* Specifically override the "Display" font for our main title to use Serif */
    --md-sys-typescale-display-large-font: 'Roboto Serif';
    --md-sys-typescale-display-medium-font: 'Roboto Serif';
    --md-sys-typescale-display-small-font: 'Roboto Serif';
}

body {
    font-family: 'Roboto Flex', sans-serif;
    background-color: var(--md-sys-color-background);
    color: var(--md-sys-color-on-background);
    margin: 0;
}

main {
    padding: 16px;
}

md-top-app-bar {
    --md-sys-color-primary: var(--md-sys-color-surface);
    --md-sys-color-on-primary: var(--md-sys-color-on-surface);
    border-bottom: 1px solid var(--md-sys-color-outline-variant);
}

/* --- Map Page --- */
.map-container {
    position: relative;
    width: 100%;
}
#map {
    height: 50vh;
    border-radius: 16px;
}
.map-container md-fab {
    position: absolute;
    bottom: 24px;
    right: 24px;
    z-index: 1000; /* Ensure FAB is above the map */
}

/* Stats */
.stats-list {
    padding-left: 20px;
    margin-top: 8px;
    line-height: 1.6;
}
.stats-card {
    background-color: var(--md-sys-color-surface-container-low);
    padding: 16px;
    border-radius: 12px;
    margin-top: 16px;
}
.stats-card h2 { margin-top: 0; }


.legend {
    line-height: 18px;
    color: var(--md-sys-color-on-surface);
    background: var(--md-sys-color-surface-container-low);
    padding: 6px 12px;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    z-index: 1000;
}
.legend h4 { margin: 0 0 5px; }
.legend i {
    width: 18px;
    height: 18px;
    float: left;
    margin-right: 8px;
    border-radius: 4px;
}

/* --- Form Page --- */
.form-card {
    max-width: 500px;
    margin: 24px auto;
    padding: 24px;
    background: var(--md-sys-color-surface-container-low);
    border-radius: 16px;
}
.add-form {
    display: flex;
    flex-direction: column;
    gap: 16px;
}
.form-actions {
    display: flex;
    justify-content: flex-end;
    margin-top: 16px;
}

/* --- Table Page --- */
.table-card {
    margin: 24px auto;
    padding: 16px;
    background: var(--md-sys-color-surface-container-low);
    border-radius: 16px;
}
.table-container { overflow-x: auto; }
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    background-color: var(--md-sys-color-surface);
}
th, td {
    padding: 12px 16px;
    border-bottom: 1px solid var(--md-sys-color-outline-variant);
    text-align: left;
}
th {
    font-weight: 500;
    color: var(--md-sys-color-on-surface-variant);
}

#add-fab {
    position: fixed; /* Change this from absolute to fixed */
    bottom: 24px;
    right: 24px;
    z-index: 1000; 
}

/* Add these styles to the bottom of style.css */

/* Bottom Navigation */
main {
    /* Add padding to the bottom to prevent content from hiding behind the nav bar */
    padding-bottom: 80px; 
}

/* In static/css/style.css */
/* REPLACE all previous footer-related styles with this block */

footer {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    display: flex;
    justify-content: center; /* This now perfectly centers the nav buttons */
    align-items: center;
    padding: 12px 16px;
    background: transparent;
    z-index: 2000;
    pointer-events: none;
}

/* Position the FAB absolutely to the left, independent of other elements */
#add-flight-fab {
    position: absolute;
    left: 16px;
    bottom: 12px;
    pointer-events: auto;
}

/* In static/css/style.css */
/* REPLACE the existing rules for .segmented-nav and .nav-segment */

.segmented-nav {
    display: flex;
    justify-content: center;
    background-color: var(--md-sys-color-surface-container);
    border-radius: 100px;
    padding: 4px; /* Add padding back to create the outer container */
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    pointer-events: auto;
}

.nav-segment {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 24px;
    border-radius: 100px; /* Restore individual button rounding */
    text-decoration: none;
    color: var(--md-sys-color-on-surface-variant);
    font-weight: 500;
    transition: background-color 0.2s ease-in-out;
    /* Ensure there is no border-left from the previous style */
    border-left: none; 
}

/* This rule remains the same, but is included for completeness */
.nav-segment.active {
    background-color: var(--md-sys-color-secondary-container);
    color: var(--md-sys-color-on-secondary-container);
}

/* Add these stylzes for the Flatpickr date picker theme */

.flatpickr-calendar {
    background: var(--md-sys-color-surface-container-high);
    border-radius: 12px;
    border: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
.flatpickr-months .flatpickr-month {
    color: var(--md-sys-color-on-surface);
    fill: var(--md-sys-color-on-surface);
}
.flatpickr-weekdays, .flatpickr-weekday {
    color: var(--md-sys-color-on-surface-variant);
}
.flatpickr-day {
    color: var(--md-sys-color-on-surface);
}
.flatpickr-day.today {
    border-color: var(--md-sys-color-primary);
    color: var(--md-sys-color-primary);

}
.flatpickr-day.selected, .flatpickr-day.startRange, .flatpickr-day.endRange {
    background: var(--md-sys-color-primary);
    border-color: var(--md-sys-color-primary);
    color: var(--md-sys-color-on-primary);
}
.numInputWrapper span:hover {
    background: var(--md-sys-color-surface-container-highest);
}
#datepicker {
    background: none;
    border: none;
    outline: none;
    color: inherit;
    font: inherit;
    width: 100%;
}

/* Add these styles to the bottom of style.css */

.edit-cell {
    width: 60px; /* Give the cell a fixed width */
    text-align: center;
}

.edit-btn {
    opacity: 0; /* Hide the button by default */
    transition: opacity 0.2s ease-in-out; /* Add a smooth fade transition */
}

/* When you hover over a table row, make the button inside it visible */
tr:hover .edit-btn {
    opacity: 1;
}

.stats-grid {
    display: grid;
    /* Create responsive columns */
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 16px;
    margin-top: 16px;
}

/* Title Card */

.title-card {
    padding: 24px 16px 16px 16px;
    text-align: left;
}

.title-card h1 {
    /* Change the font-family to Roboto Serif */
    font-family: 'Roboto Serif', serif;
    font-size: 57px;
    font-weight: 200;
    line-height: 64px;
    letter-spacing: -0.25px;
    margin: 0;
    color: var(--md-sys-color-primary);
}

/* In style.css */
/* REPLACE the old button font rule with this more specific one */

/*
  This uses CSS Custom Properties to set the font family
  inside the Material components, which is the correct way to
  override their internal styles.
*/
md-fab,
md-filled-button,
md-outlined-button,
md-text-button {
    --md-sys-typescale-label-large-font: 'Roboto Flex';
    --md-filled-button-label-text-font: 'Roboto Flex';
    --md-outlined-button-label-text-font: 'Roboto Flex';
    --md-text-button-label-text-font: 'Roboto Flex';
    --md-fab-label-text-font: 'Roboto Flex';
}
/* Ensure Material text fields use the correct sans-serif font */
md-outlined-text-field {
    --md-outlined-field-label-text-font: 'Roboto Flex';
    --md-outlined-field-input-text-font: 'Roboto Flex';
}

/* Delete button */

/* Make the form actions space out correctly */
.form-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 24px;
}

.save-actions {
    display: flex;
    gap: 8px;
}

/* In style.css, replace the old .delete-btn rule */

.delete-btn {
    /* Sets the icon color for the normal state */
    /* --md-icon-button-icon-color: var(--md-sys-color-error); */
    
    /* Sets the color of the ripple effect for hover and press states */
    --md-icon-button-hover-state-layer-color: var(--md-sys-color-error);
    --md-icon-button-pressed-state-layer-color: var(--md-sys-color-error);
}

/* Chips */
.chip-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    padding: 16px 0;
}

/* Add these styles to style.css */
.hero-stats {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
    padding: 24px 0;
    gap: 20px;
}

.hero-stat-item {
    text-align: center;
}

.hero-stat-number {
    /* M3 "Headline Medium" type style */
    font-family: 'Roboto Flex', sans-serif;
    font-size: 28px;
    font-weight: 400;
    line-height: 36px;
    color: var(--md-sys-color-primary);
}

.hero-stat-label {
    margin: 0;
    font-size: 14px;
    color: var(--md-sys-color-on-surface-variant);
}

/* Airport labels */
.airport-label {
    background: transparent;
    border: none;
    box-shadow: none;
    color: black;
    opacity: 0.8;
    font-size: 10px;
    font-weight: bold;
    /* Add a subtle stroke to make text more readable on any background */
    text-shadow: -1px -1px 0 #FFF, 1px -1px 0 #FFF, -1px 1px 0 #FFF, 1px 1px 0 #FFF;
}